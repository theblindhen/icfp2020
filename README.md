# Using Docker

Dockerfile is unchanged as given by the organizers at 

[https://github.com/icfpcontest2020/dockerfiles/blob/master/dockerfiles/rust/Dockerfile]

## Fetching vendored dependencies

The following command will fetch vendored dependencies

    $ cargo vendor

## Building the Docker 

The following will rebuild the Docker image, copy in our Rust project and all
vendored dependencies, and rebuild that inside the Docker.

    $ docker build -t icfp20 .

The tag `icfp20` is used in later commands to refer to this image.

## Running our solution inside Docker

    $ docker run --rm icfp20

## Running a shell inside Docker

    $ docker run --rm -it --entrypoint /bin/bash icfp20

## Inspecting built Docker images

This will list the ID of each image. The top one is usually the one you most
recently built:

    $ docker images

## Deleting old Docker images

The following will remove all the images generated by the above process, but
will retain the base Rust image. Don't use this command if you use Docker for
other things on your system and do not know what it means!

    $ docker system prune

The following will remove all installed Docker images that are not currently running:

    $ docker system prune -a
