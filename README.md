# Using Docker

Dockerfile is unchanged as given by the organizers at 

[https://github.com/icfpcontest2020/dockerfiles/blob/master/dockerfiles/rust/Dockerfile]

## Fetching vendored dependencies

The following command will fetch vendored dependencies

    $ cargo vendor

## Building the Docker 

The following will rebuild the Docker image, copy in our Rust project and all
vendored dependencies, and rebuild that inside the Docker.

    $ docker build .

This will create a new Docker image with a new image ID (which is some hash
value), and will consume a bit more disk space in excess of the base Rust image.

The ID is emitted in the last line of the build process.

It is also possible to add a tag to the image, which can be used to reference
the image. For instance, the following command will add a hello-world tag.

    $ docker build . -t hello-world

## Inspecting built Docker images

This will list the ID of each image. The top one is usually the one you most
recently built:

    $ docker images -a

## Running our solution inside Docker

Use the above command to get the ID of the latest build. Then run

    $ docker run <ID>

or

    $ docker run <TAG>

## Deleting old Docker images

The following will remove all the images generated by the above process, but
will retain the base Rust image. Don't use this command if you use Docker for
other things on your system and do not know what it means!

    $ docker system prune

The following will remove all installed Docker images that are not currently running:

    $ docker system prune -a
